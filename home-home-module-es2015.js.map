{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["export default \"<!-- home.page.html -->\\n<ion-header [translucent]=\\\"true\\\">\\n\\n  <ion-toolbar color=\\\"warning\\\">\\n    <ion-button (click)=\\\"loadMap()\\\" shape=\\\"round\\\" color=\\\"dark\\\">\\n      <ion-icon slot=\\\"start\\\" name=\\\"locate\\\"></ion-icon>\\n      Where I Am\\n    </ion-button>\\n    <ion-title slot=\\\"end\\\">Google Map</ion-title>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <div class=\\\"map-wrapper\\\">\\n    <div id=\\\"map_center\\\">\\n      <img src=\\\"assets/icon/location-marker.png\\\" />\\n    </div>\\n    <div #map id=\\\"map\\\"></div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red;\\n}\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n#map {\\n  width: 100%;\\n  height: 100vh;\\n}\\n\\n.map-wrapper {\\n  position: relative;\\n}\\n\\n.map-wrapper #map_center {\\n  position: absolute;\\n  z-index: 99;\\n  height: 40px;\\n  width: 40px;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -21px;\\n  margin-top: -41px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9HOlxcUHJlUHJvamVjdHNcXElvbmljXzhfNFxcaW9uaWMtZ2VvbG9jYXRpb24tZ2VvY29kZXItYXBwbGljYXRpb24vc3JjXFxhcHBcXGhvbWVcXGhvbWUucGFnZS5zY3NzIiwic3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksVUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0FDQ0o7O0FEQUk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQ0VSIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXBfY2FudmFzIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIGhlaWdodDogODAlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbn1cblxuI2FkZHJlc3Mge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4jbWFwIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMHZoO1xufVxuXG4ubWFwLXdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAjbWFwX2NlbnRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDogOTk7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAtMjFweDtcbiAgICAgICAgbWFyZ2luLXRvcDogLTQxcHg7XG4gICAgfVxufSIsIiNtYXBfY2FudmFzIHtcbiAgd2lkdGg6IDkwJTtcbiAgaGVpZ2h0OiA4MCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbn1cblxuI2FkZHJlc3Mge1xuICBwYWRkaW5nOiAxMHB4O1xuICBmb250LXNpemU6IDE4cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4jbWFwIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwdmg7XG59XG5cbi5tYXAtd3JhcHBlciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5tYXAtd3JhcHBlciAjbWFwX2NlbnRlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTk7XG4gIGhlaWdodDogNDBweDtcbiAgd2lkdGg6IDQwcHg7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIG1hcmdpbi1sZWZ0OiAtMjFweDtcbiAgbWFyZ2luLXRvcDogLTQxcHg7XG59Il19 */\"","// home.page.ts\nimport { Component, ViewChild, ElementRef, ComponentFactoryResolver } from '@angular/core';\n\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, BehaviorSubject } from 'rxjs';\ndeclare var google;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n\n  @ViewChild('map', { static: false }) mapElement: ElementRef;\n  map: any;\n  address: string;\n  service: any;\n  latitude: number;\n  longitude: number;\n\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    private HttpClient: HttpClient) {\n  }\n\n\n  ngOnInit() {\n    this.loadMap();\n  }\n\n  loadMap() {\n    this.geolocation.getCurrentPosition().then((resp) => {\n\n      this.latitude = resp.coords.latitude;\n      this.longitude = resp.coords.longitude;\n\n      let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n      let Guatemala = { lat: 15.7835, lng: -90.2308 };\n      let mapOptions = {\n        center: Guatemala,\n        zoom: 9,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }   \n\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);    \n\n      var request = {\n        location: Guatemala,\n        radius: 50000,\n        type: ['city_hall']\n      };\n      this.service = new google.maps.places.PlacesService(this.map);\n      this.service.nearbySearch(request, (results, status) => {\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\n          console.log('results.length', results.length);\n          for (let i = 0; i < results.length; i++) {\n            console.log('results', results[i]);\n\n            this.getWether(results[i].geometry.location.lat(), results[i].geometry.location.lng()).subscribe(res => {\n              console.log('let datainfo =', res);\n              let data = JSON.stringify(res);\n              let content =\n                `<h4>Current Weather!</h4>\n               <div>${data}</div>                \n              `;\n              this.addMarker(this.map, res.coord.lat, res.coord.lon, content);\n\n            });\n\n          }\n\n        }\n      });\n\n\n\n\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n  getWether(lat: any, lon: any): Observable<any> {\n    const headers = new HttpHeaders()\n      .set('x-rapidapi-host', 'community-open-weather-map.p.rapidapi.com')\n      .set('x-rapidapi-key', '0ff4de13e9mshbafda0022c0c6cfp18355ajsn2554e0eb87f4');\n    return this.HttpClient.get(`https://community-open-weather-map.p.rapidapi.com/weather?lat=${lat}&lon=${lon}`, { headers: headers, });\n  }\n\n  addMarker(map: any, lat: any, lng: any, content: any) {\n\n    let marker = new google.maps.Marker({\n      map: map,\n      animation: google.maps.Animation.DROP,\n      position: { lat, lng },\n    });\n    this.addInfoWindow(marker, content);\n  }\n  addInfoWindow(marker, content) {\n    let infoWindow = new google.maps.InfoWindow({\n      content: content\n    });\n    google.maps.event.addListener(marker, 'click', () => {\n      infoWindow.open(this.map, marker);\n    });\n  }\n\n}\n"],"sourceRoot":"webpack:///"}